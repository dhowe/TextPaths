<html>
<head>
  <meta charset="UTF-8">
  <script src="lib/munkres.js"></script>
  <script src="lib/p5.js"></script>
  <script src="vehicle.js"></script>
  <script src="wordlist.js"></script>
  <script src="texticle.js"></script>
</head>
<script>

// NEXT: handle alignments?
//   implement Texticle.morph()

var txt, font, bb, list = Object.keys(words);

function setup() {

  createCanvas(600, 400);
  background(245);
  loadFont('fonts/ArialUnicode.ttf', function(f) {
    font = f;
    next();
  });
}

function draw() {

  background(0);
  txt && txt.draw();
}

function next() {

  var font = textFont(), word = list[floor(random(list.length))]

  var metrics = Texticle.optimalMetrics(font, word, width-100, height-100);
  textSize(metrics.fontSize);
  if (!txt)
    txt = new Texticle(f, word, { x: 0, y: 0, w: width, h: height, padding: 50 });
  }
  else {
    txt.morph(word, 50, height/2 + metrics.h/2);
  }

  setTimeout(next, 2000);
}

</script>
</html>
